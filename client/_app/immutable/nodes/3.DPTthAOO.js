import"../chunks/CCfpsn-g.js";import{d as it,p as dt,n as nt,g as e,a as le,i as H,f as x,t as _,b as n,h as vt,s as l,c as a,j as u,u as oe,r as t,o as Ie,v as ye,w as ie}from"../chunks/Cx_Ee0-d.js";import{i as I}from"../chunks/dTVzOKt_.js";import{e as E,i as de,c as Y}from"../chunks/DH0ncnwB.js";import{a as ke,b as ct,e as Le}from"../chunks/DWd7-LfW.js";import{s as D,g as ut,r as je,a as gt}from"../chunks/DFQaXyUJ.js";import{s as F}from"../chunks/D5S6SqIW.js";import{s as mt,a as ft,p as ht}from"../chunks/B5RRCds9.js";(function(){try{var P=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};P.SENTRY_RELEASE={id:"c60a69e04ed3d2b7e30fad6c7faf609a8c3ddb8b"}}catch{}})();try{(function(){var P=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},m=new P.Error().stack;m&&(P._sentryDebugIds=P._sentryDebugIds||{},P._sentryDebugIds[m]="cfc326e7-d8f2-414a-9e99-10c9415b8461",P._sentryDebugIdIdentifier="sentry-dbid-cfc326e7-d8f2-414a-9e99-10c9415b8461")})()}catch{}var xt=x('<div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4 sm:mb-6"><div class="flex items-start gap-3"><svg class="w-6 h-6 text-yellow-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <div><p class="font-medium text-yellow-800">Payment Cancelled</p> <p class="text-sm text-yellow-700 mt-1"> </p></div></div></div>'),bt=x('<form method="POST" action="?/switchStudent"><input type="hidden" name="studentId"/> <button type="submit" class="px-4 py-2 rounded-lg font-medium transition-colors bg-purple-100 text-purple-700 hover:bg-purple-200 disabled:opacity-50 disabled:cursor-not-allowed"> </button></form>'),_t=x('<div class="bg-white rounded-lg shadow-md p-3 sm:p-4 mb-4 sm:mb-6"><h2 class="text-base sm:text-lg font-semibold text-gray-800 mb-3"> </h2> <div class="flex flex-wrap gap-2"></div></div>'),pt=x("<a> </a>"),wt=x('<div class="bg-white rounded-lg shadow-md p-3 sm:p-4 mb-4 sm:mb-6"><h2 class="text-base sm:text-lg font-semibold text-gray-800 mb-3"> </h2> <div class="flex flex-wrap gap-2"></div></div>'),yt=x('<div class="text-center py-12 text-gray-500"><svg class="mx-auto h-12 w-12 text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <p> </p></div>'),kt=Ie('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><path d="M20 6L9 17l-5-5"></path></svg>'),Lt=x('<button type="button"><div class="absolute top-2 right-2 z-10"><div><!></div></div> <div class="aspect-square bg-gray-200 flex items-center justify-center"><img class="w-full h-full object-cover"/></div> <div class="p-2 bg-white"><p class="text-sm text-gray-700 text-center truncate"> </p></div></button>'),jt=x('<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>'),It=x('<div class="text-center py-12 text-gray-500"><svg class="mx-auto h-12 w-12 text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg> <p> </p></div>'),Mt=x('<div class="text-center py-12 text-blue-600"><svg class="mx-auto h-12 w-12 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <p class="text-lg font-medium"> </p></div>'),Pt=x('<div class="text-center py-12 text-gray-500"><svg class="mx-auto h-12 w-12 text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg> <p> </p></div>'),Ct=x('<div class="absolute top-2 right-2 z-10 bg-yellow-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg"> </div>'),St=x('<img class="w-full h-full object-contain"/>'),Bt=x("<div></div>"),Tt=Ie('<svg class="w-20 h-20 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>'),zt=x('<div class="text-gray-500 line-through text-sm"> </div> <div class="flex items-center gap-2"><span class="text-green-600 font-bold text-lg"> </span> <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded"> </span></div>',1),Ht=x('<div class="text-gray-900 font-bold text-lg"> </div>'),Yt=x('<div class="flex items-center gap-2"><button class="flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center" aria-label="Decrease quantity"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg></button> <div class="px-4 py-2 bg-gray-100 rounded-lg font-semibold text-center min-w-[60px]"> </div> <button class="flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center" aria-label="Increase quantity"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg></button></div>'),Nt=x('<button class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg> </button>'),Dt=x('<div class="border rounded-lg overflow-hidden hover:shadow-lg transition-shadow relative flex flex-col h-full"><!> <div class="relative w-full pb-[100%] bg-gray-200 flex-shrink-0"><div class="absolute inset-0 flex items-center justify-center p-8"><!></div></div> <div class="p-4 flex flex-col flex-1 text-center"><h3 class="font-normal text-base mb-2 line-clamp-2 min-h-[3rem] flex items-center justify-center"> </h3> <div class="flex flex-col items-center gap-1 mb-3 min-h-[3rem]"><!></div> <div class="mt-auto"><!></div></div></div>'),Qt=x('<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>'),Vt=x('<div class="min-h-screen bg-gray-50"><div class="max-w-7xl mx-auto p-3 sm:p-6"><div class="bg-white rounded-lg shadow-md p-4 sm:p-6 mb-4 sm:mb-6"><h1 class="text-xl sm:text-3xl font-bold text-gray-800"> </h1> <p class="text-sm sm:text-base text-gray-600 mt-2"> </p></div> <!> <!> <!> <div class="bg-white rounded-lg shadow-md p-3 sm:p-4 mb-4 sm:mb-6"><h2 class="text-base sm:text-lg font-semibold text-gray-800 mb-3"> </h2> <form method="POST" action="?/addStudentByCode"><div class="flex flex-col sm:flex-row gap-2"><input type="text" name="code" class="flex-1 px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-sm sm:text-base"/> <button type="submit" class="w-full sm:w-auto px-4 sm:px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base"> </button></div></form></div> <div class="bg-white rounded-lg shadow-md p-3 sm:p-6 mb-4 sm:mb-6"><h2 class="text-lg sm:text-xl font-semibold text-gray-800 mb-4"> </h2> <!></div> <div class="bg-white rounded-lg shadow-md p-3 sm:p-6"><h2 class="text-lg sm:text-xl font-semibold text-gray-800 mb-4"> </h2> <!></div></div></div>');function Jt(P,m){dt(m,!0);const Me=()=>ft(ht,"$page",Pe),[Pe,Ce]=mt();let Se=oe(()=>m.data.language);const ne=oe(()=>Me().url.searchParams.get("payment_cancelled"));function p(r){return ut(e(Se),r)}function R(r){return`€${r.toFixed(2)}`}let z=le(!1),A=le(""),w=le(null);nt(()=>{const r=m.data.photos.map(s=>s.id);e(w)!==null&&!r.includes(e(w))&&H(w,null)});const ve=oe(()=>()=>e(w)===null?[]:(m.data.products||[]).filter(s=>s.relatedPhotoIds===null?!0:e(w)!==null&&s.relatedPhotoIds.includes(e(w))));function Be(r){H(w,r,!0)}var O=Vt(),ce=a(O),G=a(ce),J=a(G),Te=a(J);t(J);var ue=l(J,2),ze=a(ue,!0);t(ue),t(G);var ge=l(G,2);{var He=r=>{var s=xt(),v=a(s),o=l(a(v),2),g=l(a(o),2),f=a(g);t(g),t(o),t(v),t(s),_(()=>u(f,`Your payment for order ${e(ne)??""} was cancelled. You can add items to your cart
							and try again.`)),n(r,s)};I(ge,r=>{e(ne)&&r(He)})}var me=l(ge,2);{var Ye=r=>{var s=_t(),v=a(s),o=a(v,!0);t(v);var g=l(v,2);E(g,21,()=>m.data.siblings,de,(f,b)=>{var h=bt(),j=a(h);je(j);var S=l(j,2),C=a(S);t(S),t(h),ke(h,(y,M)=>Le?.(y,M),()=>()=>(H(z,!0),async({update:y})=>{await y(),H(z,!1),window.location.reload()})),_(()=>{gt(j,e(b).id),S.disabled=e(z),u(C,`${e(b).firstName??""}
								${e(b).lastName??""}`)}),n(f,h)}),t(g),t(s),_(f=>u(o,f),[()=>p("switchToSibling")]),n(r,s)};I(me,r=>{m.data.siblings&&m.data.siblings.length>0&&r(Ye)})}var fe=l(me,2);{var Ne=r=>{var s=wt(),v=a(s),o=a(v,!0);t(v);var g=l(v,2);E(g,21,()=>m.data.availableYears,de,(f,b)=>{var h=pt(),j=a(h,!0);t(h),_(()=>{D(h,"href",`?year=${e(b)??""}`),F(h,1,`px-4 py-2 rounded-lg font-medium transition-colors ${m.data.selectedYear===e(b)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`),u(j,e(b))}),n(f,h)}),t(g),t(s),_(f=>u(o,f),[()=>p("selectYear")]),n(r,s)};I(fe,r=>{m.data.availableYears&&m.data.availableYears.length>1&&r(Ne)})}var K=l(fe,2),W=a(K),De=a(W,!0);t(W);var X=l(W,2),he=a(X),U=a(he);je(U);var Z=l(U,2),Qe=a(Z,!0);t(Z),t(he),t(X),ke(X,(r,s)=>Le?.(r,s),()=>()=>(H(z,!0),async({update:r})=>{await r(),H(z,!1)})),t(K);var $=l(K,2),ee=a($),Ve=a(ee,!0);t(ee);var Ee=l(ee,2);{var Ue=r=>{var s=yt(),v=l(a(s),2),o=a(v,!0);t(v),t(s),_(g=>u(o,g),[()=>p("noPhotos")]),n(r,s)},qe=r=>{var s=jt();E(s,21,()=>m.data.photos,v=>v.id,(v,o)=>{var g=Lt();let f;g.__click=()=>Be(e(o).id);var b=a(g),h=a(b);let j;var S=a(h);{var C=Q=>{var V=kt();n(Q,V)};I(S,Q=>{e(w)===e(o).id&&Q(C)})}t(h),t(b);var y=l(b,2),M=a(y);t(y);var d=l(y,2),T=a(d),q=a(T,!0);t(T),t(d),t(g),_(()=>{f=F(g,1,"border rounded-lg overflow-hidden hover:shadow-lg transition-all relative group cursor-pointer",null,f,{"ring-4":e(w)===e(o).id,"ring-blue-500":e(w)===e(o).id}),j=F(h,1,"w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors",null,j,{"bg-blue-600":e(w)===e(o).id,"border-blue-600":e(w)===e(o).id,"bg-white":e(w)!==e(o).id,"border-gray-300":e(w)!==e(o).id,"group-hover:border-blue-400":e(w)!==e(o).id}),D(M,"src",e(o).path),D(M,"alt",e(o).name),u(q,e(o).name)}),n(v,g)}),t(s),n(r,s)};I(Ee,r=>{m.data.photos.length===0?r(Ue):r(qe,!1)})}t($);var xe=l($,2),te=a(xe),Fe=a(te,!0);t(te);var Re=l(te,2);{var Ae=r=>{var s=It(),v=l(a(s),2),o=a(v,!0);t(v),t(s),_(g=>u(o,g),[()=>p("noProducts")]),n(r,s)},Oe=r=>{var s=ye(),v=ie(s);{var o=f=>{var b=Mt(),h=l(a(b),2),j=a(h,!0);t(h),t(b),_(S=>u(j,S),[()=>p("selectPhotoToViewProducts")]),n(f,b)},g=f=>{var b=ye(),h=ie(b);{var j=C=>{var y=Pt(),M=l(a(y),2),d=a(M,!0);t(M),t(y),_(T=>u(d,T),[()=>p("noProductsForSelectedPhotos")]),n(C,y)},S=C=>{var y=Qt();E(y,21,()=>e(ve)(),M=>M.photoLinkId,(M,d)=>{var T=Dt(),q=a(T);{var Q=c=>{var i=Ct(),k=a(i);t(i),_(L=>u(k,`⭐ ${L??""}`),[()=>p("recommended")]),n(c,i)};I(q,c=>{e(d).isRecommended&&c(Q)})}var V=l(q,2),be=a(V),Ge=a(be);{var Je=c=>{var i=Bt();let k;E(i,21,()=>e(d).iconUrls,de,(L,N)=>{var B=St();_(()=>{D(B,"src",e(N)),D(B,"alt",e(d).productName)}),n(L,B)}),t(i),_(()=>k=F(i,1,"grid gap-1 w-full h-full",null,k,{"grid-cols-1":e(d).iconUrls.length===1,"grid-cols-2":e(d).iconUrls.length>1})),n(c,i)},Ke=c=>{var i=Tt();n(c,i)};I(Ge,c=>{e(d).iconUrls&&e(d).iconUrls.length>0?c(Je):c(Ke,!1)})}t(be),t(V);var _e=l(V,2),ae=a(_e),We=a(ae,!0);t(ae);var re=l(ae,2),Xe=a(re);{var Ze=c=>{var i=zt(),k=ie(i),L=a(k,!0);t(k);var N=l(k,2),B=a(N),se=a(B,!0);t(B);var we=l(B,2),rt=a(we);t(we),t(N),_((st,lt,ot)=>{u(L,st),u(se,lt),u(rt,`-${ot??""}%`)},[()=>R(e(d).originalPrice),()=>R(e(d).price),()=>e(d).discount.toFixed(0)]),n(c,i)},$e=c=>{var i=Ht(),k=a(i,!0);t(i),_(L=>u(k,L),[()=>R(e(d).price)]),n(c,i)};I(Xe,c=>{e(d).discount>0?c(Ze):c($e,!1)})}t(re);var pe=l(re,2),et=a(pe);{var tt=c=>{var i=Yt(),k=a(i);k.__click=()=>Y.updateQuantity(e(d).photoLinkId,Y.getQuantity(e(d).photoLinkId)-1);var L=l(k,2),N=a(L,!0);t(L);var B=l(L,2);B.__click=()=>Y.updateQuantity(e(d).photoLinkId,Y.getQuantity(e(d).photoLinkId)+1),t(i),_(se=>u(N,se),[()=>Y.getQuantity(e(d).photoLinkId)]),n(c,i)},at=c=>{var i=Nt();i.__click=()=>Y.add(e(d));var k=l(a(i));t(i),_(L=>u(k,` ${L??""}`),[()=>p("addToCart")]),n(c,i)};I(et,c=>{Y.getQuantity(e(d).photoLinkId)>0?c(tt):c(at,!1)})}t(pe),t(_e),t(T),_(()=>u(We,e(d).productName)),n(M,T)}),t(y),n(C,y)};I(h,C=>{e(ve)().length===0?C(j):C(S,!1)},!0)}n(f,b)};I(v,f=>{e(w)===null?f(o):f(g,!1)},!0)}n(r,s)};I(Re,r=>{!m.data.products||m.data.products.length===0?r(Ae):r(Oe,!1)})}t(xe),t(ce),t(O),_((r,s,v,o,g,f,b,h)=>{u(Te,`${r??""}, ${m.data.student.firstName??""}
				${m.data.student.lastName??""}!`),u(ze,s),u(De,v),D(U,"placeholder",o),Z.disabled=g,u(Qe,f),u(Ve,b),u(Fe,h)},[()=>p("welcome"),()=>p("personalCatalogue"),()=>p("addAnotherStudent"),()=>p("enterStudentCode"),()=>e(z)||e(A).replace(/\D/g,"").length!==10,()=>e(z)?p("loading"):p("addStudent"),()=>p("yourPhotos"),()=>p("products")]),ct(U,()=>e(A),r=>H(A,r)),n(P,O),vt(),Ce()}it(["click"]);export{Jt as component};
