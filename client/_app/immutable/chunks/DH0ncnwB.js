import{T as k,B as $,U as W,I as L,C as D,V as P,D as j,g as v,W as ee,F as re,H as ae,G as Y,K as M,X as V,Y as ne,Z as te,_ as U,$ as ie,a0 as I,a1 as H,a2 as fe,a3 as B,M as se,a4 as z,a5 as oe,a6 as le,a7 as ue,a8 as de,a9 as X,aa as G,ab as q,q as ce,ac as ve,ad as ge,ae as he,af as pe,a as J,ag as _e,i as O}from"./Cx_Ee0-d.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"c60a69e04ed3d2b7e30fad6c7faf609a8c3ddb8b"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new e.Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="0c2567bf-d34c-40a4-9a50-62dfe84d802e",e._sentryDebugIdIdentifier="sentry-dbid-0c2567bf-d34c-40a4-9a50-62dfe84d802e")})()}catch{}function we(e,r){return r}function me(e,r,n){for(var s=[],p=r.length,l,o=r.length,h=0;h<p;h++){let m=r[h];G(m,()=>{if(l){if(l.pending.delete(m),l.done.add(m),l.pending.size===0){var u=e.outrogroups;F(z(l.done)),u.delete(l),u.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var i=s.length===0&&n!==null;if(i){var d=n,t=d.parentNode;he(t),t.append(d),e.items.clear()}F(r,!i)}else l={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(l)}function F(e,r=!0){for(var n=0;n<e.length;n++)pe(e[n],r)}var Q;function ye(e,r,n,s,p,l=null){var o=e,h=new Map,i=(r&W)!==0;if(i){var d=e;o=D?L(P(d)):d.appendChild(k())}D&&j();var t=null,m=ee(()=>{var f=n();return oe(f)?f:f==null?[]:z(f)}),u,g=!0;function T(){a.fallback=t,Se(a,u,o,r,s),t!==null&&(u.length===0?(t.f&I)===0?X(t):(t.f^=I,x(t,null,o)):G(t,()=>{t=null}))}var b=$(()=>{u=v(m);var f=u.length;let N=!1;if(D){var C=re(o)===ae;C!==(f===0)&&(o=Y(),L(o),M(!1),N=!0)}for(var S=new Set,w=ie,A=fe(),_=0;_<f;_+=1){D&&V.nodeType===ne&&V.data===te&&(o=V,N=!0,M(!1));var y=u[_],R=s(y,_),c=g?null:h.get(R);c?(c.v&&U(c.v,y),c.i&&U(c.i,_),A&&w.skipped_effects.delete(c.e)):(c=Ie(h,g?o:Q??=k(),y,R,_,p,r,n),g||(c.e.f|=I),h.set(R,c)),S.add(R)}if(f===0&&l&&!t&&(g?t=H(()=>l(o)):(t=H(()=>l(Q??=k())),t.f|=I)),D&&f>0&&L(Y()),!g)if(A){for(const[K,Z]of h)S.has(K)||w.skipped_effects.add(Z.e);w.oncommit(T),w.ondiscard(()=>{})}else T();N&&M(!0),v(m)}),a={effect:b,items:h,outrogroups:null,fallback:t};g=!1,D&&(o=V)}function Se(e,r,n,s,p){var l=(s&ge)!==0,o=r.length,h=e.items,i=e.effect.first,d,t=null,m,u=[],g=[],T,b,a,f;if(l)for(f=0;f<o;f+=1)T=r[f],b=p(T,f),a=h.get(b).e,(a.f&I)===0&&(a.nodes?.a?.measure(),(m??=new Set).add(a));for(f=0;f<o;f+=1){if(T=r[f],b=p(T,f),a=h.get(b).e,e.outrogroups!==null)for(const c of e.outrogroups)c.pending.delete(a),c.done.delete(a);if((a.f&I)!==0)if(a.f^=I,a===i)x(a,null,n);else{var N=t?t.next:i;a===e.effect.last&&(e.effect.last=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),E(e,t,a),E(e,a,N),x(a,N,n),t=a,u=[],g=[],i=t.next;continue}if((a.f&q)!==0&&(X(a),l&&(a.nodes?.a?.unfix(),(m??=new Set).delete(a))),a!==i){if(d!==void 0&&d.has(a)){if(u.length<g.length){var C=g[0],S;t=C.prev;var w=u[0],A=u[u.length-1];for(S=0;S<u.length;S+=1)x(u[S],C,n);for(S=0;S<g.length;S+=1)d.delete(g[S]);E(e,w.prev,A.next),E(e,t,w),E(e,A,C),i=C,t=A,f-=1,u=[],g=[]}else d.delete(a),x(a,i,n),E(e,a.prev,a.next),E(e,a,t===null?e.effect.first:t.next),E(e,t,a),t=a;continue}for(u=[],g=[];i!==null&&i!==a;)(d??=new Set).add(i),g.push(i),i=i.next;if(i===null)continue}(a.f&I)===0&&u.push(a),t=a,i=a.next}if(e.outrogroups!==null){for(const c of e.outrogroups)c.pending.size===0&&(F(z(c.done)),e.outrogroups?.delete(c));e.outrogroups.size===0&&(e.outrogroups=null)}if(i!==null||d!==void 0){var _=[];if(d!==void 0)for(a of d)(a.f&q)===0&&_.push(a);for(;i!==null;)(i.f&q)===0&&i!==e.fallback&&_.push(i),i=i.next;var y=_.length;if(y>0){var R=(s&W)!==0&&o===0?n:null;if(l){for(f=0;f<y;f+=1)_[f].nodes?.a?.measure();for(f=0;f<y;f+=1)_[f].nodes?.a?.fix()}me(e,_,R)}}l&&ce(()=>{if(m!==void 0)for(a of m)a.nodes?.a?.apply()})}function Ie(e,r,n,s,p,l,o,h){var i=(o&le)!==0?(o&ue)===0?se(n,!1,!1):B(n):null,d=(o&de)!==0?B(p):null;return{v:i,i:d,e:H(()=>(l(r,i??n,d??p,h),()=>{e.delete(s)}))}}function x(e,r,n){if(e.nodes)for(var s=e.nodes.start,p=e.nodes.end,l=r&&(r.f&I)===0?r.nodes.start:n;s!==null;){var o=ve(s);if(l.before(s),s===p)return;s=o}}function E(e,r,n){r===null?e.effect.first=n:r.next=n,n===null?e.effect.last=r:n.prev=r}class Ee{#e=J(_e([]));#r=J(!1);CART_VERSION=2;constructor(){if(typeof window<"u"){const r=localStorage.getItem("cart"),n=localStorage.getItem("cartVersion");if(r&&n===String(this.CART_VERSION))try{O(this.#e,JSON.parse(r),!0)}catch(s){console.error("Failed to load cart from localStorage",s)}else localStorage.removeItem("cart"),localStorage.setItem("cartVersion",String(this.CART_VERSION))}}saveToStorage(){typeof window<"u"&&(localStorage.setItem("cart",JSON.stringify(v(this.#e))),localStorage.setItem("cartVersion",String(this.CART_VERSION)))}get total(){return v(this.#e).reduce((r,n)=>r+n.price*n.quantity,0)}get totalItems(){return v(this.#e).reduce((r,n)=>r+n.quantity,0)}get allDownloadable(){return v(this.#e).length>0&&v(this.#e).every(r=>r.partNumber?.toUpperCase()==="DWNLD")}get isEmpty(){return v(this.#e).length===0}get items(){return v(this.#e)}get isOpen(){return v(this.#r)}add(r){const n=v(this.#e).find(s=>s.photoLinkId===r.photoLinkId);n?n.quantity+=1:v(this.#e).push({...r,quantity:1}),this.saveToStorage()}remove(r){O(this.#e,v(this.#e).filter(n=>n.photoLinkId!==r),!0),this.saveToStorage()}updateQuantity(r,n){const s=v(this.#e).find(p=>p.photoLinkId===r);s&&(n<=0?this.remove(r):(s.quantity=n,this.saveToStorage()))}getQuantity(r){const n=v(this.#e).find(s=>s.photoLinkId===r);return n?n.quantity:0}toggle(){O(this.#r,!v(this.#r))}close(){O(this.#r,!1)}clear(){O(this.#e,[],!0)}clearStorage(){typeof window<"u"&&(localStorage.removeItem("cart"),localStorage.removeItem("cartVersion"))}}const be=new Ee;export{be as c,ye as e,we as i};
