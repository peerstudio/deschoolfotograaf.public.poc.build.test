{"version":3,"file":"_server.ts-BZEE7GvX.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/send-email/_server.ts.js"],"sourcesContent":["!(function() {\n  try {\n    var e = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof self ? self : {};\n    e.SENTRY_RELEASE = { id: \"c60a69e04ed3d2b7e30fad6c7faf609a8c3ddb8b\" };\n  } catch (e2) {\n  }\n})();\n;\n{\n  try {\n    (function() {\n      var e = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof self ? self : {}, n = new e.Error().stack;\n      n && (e._sentryDebugIds = e._sentryDebugIds || {}, e._sentryDebugIds[n] = \"638f42ee-83e7-46dd-b6ce-393ceee55101\", e._sentryDebugIdIdentifier = \"sentry-dbid-638f42ee-83e7-46dd-b6ce-393ceee55101\");\n    })();\n  } catch (e) {\n  }\n}\n;\nimport { json } from \"@sveltejs/kit\";\nimport { s as sendEmail } from \"../../../../chunks/email.js\";\nconst POST = async ({ request }) => {\n  try {\n    const body = await request.json();\n    if (!body.to) {\n      return json({ success: false, error: \"Recipient email (to) is required\" }, { status: 400 });\n    }\n    if (!body.subject) {\n      return json({ success: false, error: \"Email subject is required\" }, { status: 400 });\n    }\n    if (!body.text && !body.html) {\n      return json(\n        { success: false, error: \"Either text or html content is required\" },\n        { status: 400 }\n      );\n    }\n    const result = await sendEmail({\n      to: body.to,\n      subject: body.subject,\n      text: body.text,\n      html: body.html,\n      from: body.from,\n      cc: body.cc,\n      bcc: body.bcc\n    });\n    if (result.success) {\n      return json({\n        success: true,\n        messageId: result.messageId\n      });\n    } else {\n      return json(\n        {\n          success: false,\n          error: result.error\n        },\n        { status: 500 }\n      );\n    }\n  } catch (error) {\n    console.error(\"Error in send-email endpoint:\", error);\n    return json(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : \"Failed to send email\"\n      },\n      { status: 500 }\n    );\n  }\n};\nexport {\n  POST\n};\n"],"names":[],"mappings":"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"}