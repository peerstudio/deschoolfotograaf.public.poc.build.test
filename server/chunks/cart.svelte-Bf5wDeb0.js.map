{"version":3,"file":"cart.svelte-Bf5wDeb0.js","sources":["../../../.svelte-kit/adapter-node/chunks/cart.svelte.js"],"sourcesContent":["!(function() {\n  try {\n    var e = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof self ? self : {};\n    e.SENTRY_RELEASE = { id: \"8a555e7f1a2aff28713c57fe6955c74723dfdd47\" };\n  } catch (e2) {\n  }\n})();\n;\n{\n  try {\n    (function() {\n      var e = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof self ? self : {}, n = new e.Error().stack;\n      n && (e._sentryDebugIds = e._sentryDebugIds || {}, e._sentryDebugIds[n] = \"9617fc55-22ef-4353-9f44-e9b76f652830\", e._sentryDebugIdIdentifier = \"sentry-dbid-9617fc55-22ef-4353-9f44-e9b76f652830\");\n    })();\n  } catch (e) {\n  }\n}\n;\nclass CartStore {\n  #items = [];\n  #isOpen = false;\n  CART_VERSION = 2;\n  // Increment this when cart structure changes\n  constructor() {\n    if (typeof window !== \"undefined\") {\n      const saved = localStorage.getItem(\"cart\");\n      const version = localStorage.getItem(\"cartVersion\");\n      if (saved && version === String(this.CART_VERSION)) {\n        try {\n          this.#items = JSON.parse(saved);\n        } catch (e) {\n          console.error(\"Failed to load cart from localStorage\", e);\n        }\n      } else {\n        localStorage.removeItem(\"cart\");\n        localStorage.setItem(\"cartVersion\", String(this.CART_VERSION));\n      }\n    }\n  }\n  saveToStorage() {\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(\"cart\", JSON.stringify(this.#items));\n      localStorage.setItem(\"cartVersion\", String(this.CART_VERSION));\n    }\n  }\n  get total() {\n    return this.#items.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  }\n  get totalItems() {\n    return this.#items.reduce((sum, item) => sum + item.quantity, 0);\n  }\n  get allDownloadable() {\n    return this.#items.length > 0 && this.#items.every((item) => item.partNumber?.toUpperCase() === \"DWNLD\");\n  }\n  get isEmpty() {\n    return this.#items.length === 0;\n  }\n  get items() {\n    return this.#items;\n  }\n  get isOpen() {\n    return this.#isOpen;\n  }\n  add(product) {\n    const existingItem = this.#items.find((item) => item.photoLinkId === product.photoLinkId);\n    if (existingItem) {\n      existingItem.quantity += 1;\n    } else {\n      this.#items.push({ ...product, quantity: 1 });\n    }\n    this.saveToStorage();\n  }\n  remove(photoLinkId) {\n    this.#items = this.#items.filter((item) => item.photoLinkId !== photoLinkId);\n    this.saveToStorage();\n  }\n  updateQuantity(photoLinkId, quantity) {\n    const item = this.#items.find((item2) => item2.photoLinkId === photoLinkId);\n    if (item) {\n      if (quantity <= 0) {\n        this.remove(photoLinkId);\n      } else {\n        item.quantity = quantity;\n        this.saveToStorage();\n      }\n    }\n  }\n  getQuantity(photoLinkId) {\n    const item = this.#items.find((item2) => item2.photoLinkId === photoLinkId);\n    return item ? item.quantity : 0;\n  }\n  toggle() {\n    this.#isOpen = !this.#isOpen;\n  }\n  close() {\n    this.#isOpen = false;\n  }\n  clear() {\n    this.#items = [];\n  }\n  clearStorage() {\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"cart\");\n      localStorage.removeItem(\"cartVersion\");\n    }\n  }\n}\nconst cart = new CartStore();\nexport {\n  cart as c\n};\n"],"names":[],"mappings":"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"}