{"version":3,"file":"email-Djdlg3N9.js","sources":["../../../.svelte-kit/adapter-node/chunks/email.js"],"sourcesContent":["!(function() {\n  try {\n    var e = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof self ? self : {};\n    e.SENTRY_RELEASE = { id: \"c60a69e04ed3d2b7e30fad6c7faf609a8c3ddb8b\" };\n  } catch (e2) {\n  }\n})();\n;\n{\n  try {\n    (function() {\n      var e = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof self ? self : {}, n = new e.Error().stack;\n      n && (e._sentryDebugIds = e._sentryDebugIds || {}, e._sentryDebugIds[n] = \"5ecd26f2-87f7-4c0c-839c-250d3f570fc7\", e._sentryDebugIdIdentifier = \"sentry-dbid-5ecd26f2-87f7-4c0c-839c-250d3f570fc7\");\n    })();\n  } catch (e) {\n  }\n}\n;\nimport nodemailer from \"nodemailer\";\nimport { b as private_env } from \"./shared-server.js\";\nlet transporter = null;\nfunction getTransporter() {\n  if (transporter) {\n    return transporter;\n  }\n  const emailHost = private_env.EMAIL_HOST;\n  const emailPort = private_env.EMAIL_PORT ? parseInt(private_env.EMAIL_PORT) : 587;\n  const emailUser = private_env.EMAIL_USER;\n  const emailPassword = private_env.EMAIL_PASSWORD;\n  const emailSecure = private_env.EMAIL_SECURE === \"true\";\n  if (!emailHost || !emailUser || !emailPassword) {\n    throw new Error(\n      \"Email configuration missing. Please set EMAIL_HOST, EMAIL_USER, and EMAIL_PASSWORD environment variables.\"\n    );\n  }\n  transporter = nodemailer.createTransport({\n    host: emailHost,\n    port: emailPort,\n    secure: emailSecure,\n    // true for 465, false for other ports\n    auth: {\n      user: emailUser,\n      pass: emailPassword\n    }\n  });\n  return transporter;\n}\nasync function sendEmail(options) {\n  try {\n    const transport = getTransporter();\n    const defaultFrom = private_env.EMAIL_FROM || private_env.EMAIL_USER;\n    const mailOptions = {\n      from: options.from || defaultFrom,\n      to: Array.isArray(options.to) ? options.to.join(\", \") : options.to,\n      cc: options.cc ? Array.isArray(options.cc) ? options.cc.join(\", \") : options.cc : void 0,\n      bcc: options.bcc ? Array.isArray(options.bcc) ? options.bcc.join(\", \") : options.bcc : void 0,\n      subject: options.subject,\n      text: options.text,\n      html: options.html,\n      attachments: options.attachments\n    };\n    const info = await transport.sendMail(mailOptions);\n    console.log(\"Email sent successfully:\", info.messageId);\n    return {\n      success: true,\n      messageId: info.messageId\n    };\n  } catch (error) {\n    console.error(\"Failed to send email:\", error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : \"Failed to send email\"\n    };\n  }\n}\nexport {\n  sendEmail as s\n};\n"],"names":[],"mappings":"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"}